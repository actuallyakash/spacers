function spacers(e){let t,a,s,r,i=e.containedArea?e.containedArea:window.document,n=i.querySelectorAll(e.element),c=e.defaultSpacing?e.defaultSpacing:"8",o=e.spacingUnit?e.spacingUnit:"px",l=null==e.padding||1==e.padding,d=e.showOnHover?" on-hover":"",p=!!e.margin,u=[];p&&u.push("margin"),l&&u.push("padding");let g=["top","right","bottom","left"],f=1==e.hideSpacingValue,m=e.showLabel?e.showLabel:"";switch(s={top:e.defaultMargin?e.defaultMargin.top:"",left:e.defaultMargin?e.defaultMargin.left:"",bottom:e.defaultMargin?e.defaultMargin.bottom:"",right:e.defaultMargin?e.defaultMargin.right:""},r={top:e.defaultPadding?e.defaultPadding.top:"",left:e.defaultPadding?e.defaultPadding.left:"",bottom:e.defaultPadding?e.defaultPadding.bottom:"",right:e.defaultPadding?e.defaultPadding.right:""},e.appendHtml){case"begin":a="afterbegin";break;case"end":a="beforeend";break;default:a="afterbegin"}n.forEach(n=>{function h(e,t){j=t.getAttribute("data-position"),H=t.getAttribute("data-dragging"),C=e.clientX,q=e.clientY,currentSpacer=t,spacerType=currentSpacer.getAttribute("data-type"),i.documentElement.addEventListener("mousemove",b,!1),i.documentElement.addEventListener("mouseup",y,!1)}function b(e){let t;"top"!=j&&"bottom"!=j||(t=T+e.clientY-q),"left"!=j&&"right"!=j||(t="left"==H?I-e.clientX+C:I+e.clientX-C),t<0&&(t=0),L(spacerType,j,t),currentSpacer.setAttribute("data-size",t),currentSpacer.querySelector(".spacer-indicator .spacer-size").innerText=t,t+=o,currentSpacer.classList.contains("spacer-locked")&&S(n,currentSpacer,t),oppositeProperty=spacerType+j.charAt(0).toUpperCase()+j.substring(1),"top"==j||"bottom"==j?(currentSpacer.style.height=t==0+o?c+o:t,n.style[oppositeProperty]=t):(currentSpacer.style.width=t==0+o?c+o:t,n.style[oppositeProperty]=t)}function y(t){i.documentElement.removeEventListener("mousemove",b,!1),i.documentElement.removeEventListener("mouseup",y,!1),i.querySelector(".spacer-active")&&i.querySelector(".spacer-active").classList.remove("spacer-active");let a={};l&&Object.assign(a,{padding:r}),p&&Object.assign(a,{margin:s}),e.onDragEnd&&e.onDragEnd(a)}function v(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}}function L(e,t,a){"padding"==e&&(r[t]=a),"margin"==e&&(s[t]=a)}function S(e,t,a){let s=v(t.getAttribute("data-position")),r=t.getAttribute("data-type"),n=t.getAttribute("data-id"),c=i.querySelector(".spacer-"+n+'[data-type="'+r+'"][data-position="'+s+'"]');c.classList.add("spacer-active"),c.setAttribute("data-size",parseInt(a,10).toString()),c.querySelector(".spacer-indicator .spacer-size").innerText=parseInt(a,10).toString(),"top"!=s&&"bottom"!=s||(c.style.height=a),"left"!=s&&"right"!=s||(c.style.width=a),L(r,s,parseInt(a,10));let o=r+s.charAt(0).toUpperCase()+s.substring(1);e.style[o]=a}function k(e){let t=i.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}let A=Array(6).fill(0).map(e=>Math.random().toString(36).charAt(2)).join("");n.classList.add("spacer-initialised"),n.style.position="relative";let E,P="",w=e.lockIcon?e.lockIcon:'<span class="icon"></span>',M=e.unlockIcon?e.unlockIcon:'<span class="icon"></span>',z=e.enableLock?'<span class="spacer-lock unlocked">'+M+"</span>":"";u.forEach(e=>{g.forEach(t=>{"padding"==e?E=""==r[t]?c:r[t]:"margin"==e&&(E=""==s[t]?c:s[t]),P+='<div data-size="'+E+'" data-type="'+e+'" data-id="'+A+'" class="spacer spacer-'+A+" spacer-"+t+'" data-dragging="'+v(t)+'" data-position="'+t+'"> <span class="spacer-indicator"> <span class="'+(f?"display-none ":"")+'spacer-size">'+(""==E?"0":E)+"</span>"+m+z+"</span> </div>"})}),t='<div class="spacer-wrapper'+d+'">'+P+"</div>",n.insertAdjacentHTML(a,t);let C,q,I,T,j,H,O=Object.values(i.getElementsByClassName("spacer-"+A));O.forEach(t=>{i.documentElement.style.setProperty("--spacer-size",c+o),e.spacerClass&&t.classList.add(...e.spacerClass.split(" ")),spacerValue=(t.getAttribute("data-size")?t.getAttribute("data-size"):c)+o,spacerPosition=t.getAttribute("data-position"),"top"!=spacerPosition&&"bottom"!=spacerPosition||(t.style.height=spacerValue),"left"!=spacerPosition&&"right"!=spacerPosition||(t.style.width=spacerValue),t.addEventListener("mousedown",e=>{T=t.offsetHeight,I=t.offsetWidth,h(e,t)})});let U=i.querySelectorAll(".spacer-lock");U.forEach(e=>{e.classList.contains("lock-active")||(e.classList.add("lock-active"),e.addEventListener("mousedown",function(){let t=e.classList;t.contains("unlocked")?(e.closest(".spacer").classList.add("spacer-locked"),e.replaceChild(k(w),e.childNodes[0]),t.remove("unlocked"),t.add("locked")):(e.closest(".spacer").classList.remove("spacer-locked"),e.replaceChild(k(M),e.childNodes[0]),t.remove("locked"),t.add("unlocked"))}))})})}