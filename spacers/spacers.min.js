function spacers(e){let t,a,s,i,r=e.containedArea?e.containedArea:window.document,n=r.querySelectorAll(e.element),c=e.defaultSpacing?e.defaultSpacing:"8",o=e.spacingUnit?e.spacingUnit:"px",d=null==e.padding||1==e.padding,l=e.showOnHover?" on-hover":"",p=!!e.margin,u=[];p&&u.push("margin"),d&&u.push("padding");let g=["top","right","bottom","left"],f=1==e.hideSpacingValue,m=e.showLabel?e.showLabel:"";switch(s={top:e.defaultMargin?e.defaultMargin.top:"",left:e.defaultMargin?e.defaultMargin.left:"",bottom:e.defaultMargin?e.defaultMargin.bottom:"",right:e.defaultMargin?e.defaultMargin.right:""},i={top:e.defaultPadding?e.defaultPadding.top:"",left:e.defaultPadding?e.defaultPadding.left:"",bottom:e.defaultPadding?e.defaultPadding.bottom:"",right:e.defaultPadding?e.defaultPadding.right:""},e.appendHtml){case"begin":a="afterbegin";break;case"end":a="beforeend";break;default:a="afterbegin"}n.forEach(n=>{function h(e,t){j=t.getAttribute("data-position"),H=t.getAttribute("data-dragging"),C=e.clientX,q=e.clientY,currentSpacer=t,spacerType=currentSpacer.getAttribute("data-type"),r.documentElement.addEventListener("mousemove",b,!1),r.documentElement.addEventListener("mouseup",y,!1)}function b(e){let t;"top"!=j&&"bottom"!=j||(t=T+e.clientY-q),"left"!=j&&"right"!=j||(t="left"==H?I-e.clientX+C:I+e.clientX-C),k(spacerType,j,t),currentSpacer.setAttribute("data-size",t),currentSpacer.querySelector(".spacer-indicator .spacer-size").innerText=t,t+=o,currentSpacer.classList.contains("spacer-locked")&&E(n,currentSpacer,t),oppositeProperty=spacerType+j.charAt(0).toUpperCase()+j.substring(1),"top"==j||"bottom"==j?(currentSpacer.style.height=t,n.style[oppositeProperty]=t):(currentSpacer.style.width=t,n.style[oppositeProperty]=t)}function y(t){r.documentElement.removeEventListener("mousemove",b,!1),r.documentElement.removeEventListener("mouseup",y,!1),r.querySelector(".spacer-active")&&r.querySelector(".spacer-active").classList.remove("spacer-active");let a={};d&&Object.assign(a,{padding:i}),p&&Object.assign(a,{margin:s}),e.onDragEnd&&e.onDragEnd(a)}function v(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}}function k(e,t,a){"padding"==e&&(i[t]=a),"margin"==e&&(s[t]=a)}function E(e,t,a){let s=v(t.getAttribute("data-position")),i=t.getAttribute("data-type"),n=t.getAttribute("data-id"),c=r.querySelector(".spacer-"+n+'[data-type="'+i+'"][data-position="'+s+'"]');c.classList.add("spacer-active"),c.setAttribute("data-size",parseInt(a,10).toString()),c.querySelector(".spacer-indicator .spacer-size").innerText=parseInt(a,10).toString(),"top"!=s&&"bottom"!=s||(c.style.height=a),"left"!=s&&"right"!=s||(c.style.width=a),k(i,s,parseInt(a,10));let o=i+s.charAt(0).toUpperCase()+s.substring(1);e.style[o]=a}function L(e){let t=r.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}let S=Array(6).fill(0).map(e=>Math.random().toString(36).charAt(2)).join("");n.classList.add("spacer-initialised"),n.style.position="relative";let A,P="",w=e.lockIcon?e.lockIcon:'<span class="icon"></span>',z=e.unlockIcon?e.unlockIcon:'<span class="icon"></span>',M=e.enableLock?'<span class="spacer-lock unlocked">'+z+"</span>":"";u.forEach(e=>{switch(e){case"padding":g.forEach(t=>{A=""==i[t]?c:i[t],P+='<div data-size="'+A+'" data-type="'+e+'" data-id="'+S+'" class="spacer spacer-'+S+" spacer-"+t+'" data-dragging="'+v(t)+'" data-position="'+t+'"> <span class="spacer-indicator"> <span class="'+(f?"display-none ":"")+'spacer-size">'+(""==A?"0":A)+"</span>"+m+M+"</span> </div>"});break;case"margin":g.forEach(t=>{A="0"==s[t]?c:s[t],P+='<div data-size="'+A+'" data-type="'+e+'" data-id="'+S+'" class="spacer spacer-'+S+" spacer-"+t+'" data-dragging="'+v(t)+'" data-position="'+t+'"> <span class="spacer-indicator"> <span class="'+(f?"display-none ":"")+'spacer-size">'+(""==A?"0":A)+"</span>"+m+M+"</span> </div>"})}}),t='<div class="spacer-wrapper'+l+'">'+P+"</div>",n.insertAdjacentHTML(a,t);let C,q,I,T,j,H,O=Object.values(r.getElementsByClassName("spacer-"+S));O.forEach(t=>{r.documentElement.style.setProperty("--spacer-size",c+o),e.spacerClass&&t.classList.add(...e.spacerClass.split(" ")),spacerValue=(t.getAttribute("data-size")?t.getAttribute("data-size"):c)+o,spacerPosition=t.getAttribute("data-position"),"top"!=spacerPosition&&"bottom"!=spacerPosition||(t.style.height=spacerValue),"left"!=spacerPosition&&"right"!=spacerPosition||(t.style.width=spacerValue),t.addEventListener("mousedown",e=>{T=t.offsetHeight,I=t.offsetWidth,h(e,t)})});let U=r.querySelectorAll(".spacer-lock");U.forEach(e=>{e.classList.contains("lock-active")||(e.classList.add("lock-active"),e.addEventListener("mousedown",function(){let t=e.classList;t.contains("unlocked")?(e.closest(".spacer").classList.add("spacer-locked"),e.replaceChild(L(w),e.childNodes[0]),t.remove("unlocked"),t.add("locked")):(e.closest(".spacer").classList.remove("spacer-locked"),e.replaceChild(L(z),e.childNodes[0]),t.remove("locked"),t.add("unlocked"))}))})})}